{
  "stash": {
    "settings": {
      "index": {
        "refresh_interval": "10s",
        "number_of_shards": 1,
        "number_of_replicas": 0,
        "requests.cache.enable": true,
        "translog.durability": "async",
        "translog.sync_interval": "5s"
      }
    },
    "mappings": {
      "stash": {
        "properties": {
          "id": {
            "type": "keyword"
          },
          "league": {
            "type": "keyword"
          },
          "name": {
            "type": "text"
          },
          "lastSeen": {
            "type": "date"
          },
          "seller": {
            "properties": {
              "account": {
                "type": "keyword"
              },
              "character": {
                "type": "keyword"
              }
            }
          }
        }
      }
    }
  },
  "listing": {
    "settings": {
      "index": {
        "refresh_interval": "20s",
        "number_of_shards": 1,
        "number_of_replicas": 0,
        "requests.cache.enable": true,
        "translog.durability": "async",
        "translog.sync_interval": "10s"
      },
      "analysis": {
        "analyzer": {
          "ngram": {
            "tokenizer": "ngram"
          },
          "analyzer_keyword": {
            "tokenizer": "keyword",
            "filter": "lowercase"
          }
        },
        "tokenizer": {
          "ngram": {
            "type": "nGram",
            "min_gram": "4",
            "max_gram": "8",
            "token_chars": [
              "letter",
              "digit",
              "whitespace",
              "punctuation",
              "symbol"
            ]
          }
        }
      }
    },
    "mappings": {
      "listing": {
        "properties": {
          "id": {
            "type": "keyword"
          },
          "stash": {
            "type": "keyword"
          },
          "league": {
            "type": "keyword"
          },
          "name": {
            "type": "text"
          },
          "fullName": {
            "type": "text"
          },
          "itemType": {
            "type": "keyword"
          },
          "gearType": {
            "type": "keyword"
          },
          "baseLine": {
            "type": "text"
          },
          "rarity": {
            "type": "keyword"
          },
          "x": {
            "type": "integer"
          },
          "y": {
            "type": "integer"
          },
          "sockets": {
            "properties": {
              "red": {
                "type": "integer"
              },
              "green": {
                "type": "string"
              },
              "blue": {
                "type": "integer"
              },
              "white": {
                "type": "integer"
              },
              "links": {
                "type": "integer"
              }
            }
          },
          "requirements": {
            "properties": {
              "level": {
                "type": "integer"
              },
              "str": {
                "type": "integer"
              },
              "int": {
                "type": "integer"
              },
              "dex": {
                "type": "integer"
              }
            }
          },
          "modifiers": {
            "type": "text"
          },
          "gemLevel": {
            "all": {
              "type": "integer"
            },
            "bow": {
              "type": "integer"
            },
            "chaos": {
              "type": "integer"
            },
            "cold": {
              "type": "integer"
            },
            "fire": {
              "type": "integer"
            },
            "lightning": {
              "type": "integer"
            },
            "melee": {
              "type": "integer"
            },
            "minion": {
              "type": "integer"
            },
            "spell": {
              "type": "integer"
            }
          },
          "stats": {
            "type": "object",
            "properties": {
              "attribute": {
                "properties": {
                  "all": {
                    "type": "integer"
                  },
                  "int": {
                    "type": "integer"
                  },
                  "str": {
                    "type": "integer"
                  },
                  "dex": {
                    "type": "integer"
                  }
                }
              },
              "attributeRequirementReduction": {
                "type": "float"
              },
              "manaCostReduction": {
                "type": "float"
              },
              "itemRarity": {
                "type": "float"
              },
              "itemQuantity": {
                "type": "float"
              },
              "life": {
                "properties": {
                  "flat": {
                    "type": "integer"
                  },
                  "percent": {
                    "type": "float"
                  }
                }
              },
              "mana": {
                "properties": {
                  "flat": {
                    "type": "integer"
                  },
                  "percent": {
                    "type": "float"
                  }
                }
              },
              "regen": {
                "properties": {
                  "life": {
                    "properties": {
                      "flat": {
                        "type": "integer"
                      },
                      "percent": {
                        "type": "float"
                      }
                    }
                  },
                  "mana": {
                    "properties": {
                      "flat": {
                        "type": "integer"
                      },
                      "percent": {
                        "type": "float"
                      }
                    }
                  }
                },
                "movementSpeed": {
                  "type": "float"
                },
                "lightRadius": {
                  "type": "float"
                }
              }
            }
          },
          "offense": {
            "type": "object",
            "properties": {
              "onHit": {
                "properties": {
                  "life": {
                    "type": "integer"
                  },
                  "mana": {
                    "type": "integer"
                  }
                }
              },
              "onKill": {
                "properties": {
                  "life": {
                    "type": "integer"
                  },
                  "mana": {
                    "type": "integer"
                  }
                }
              },
              "leech": {
                "properties": {
                  "life": {
                    "type": "float"
                  },
                  "mana": {
                    "type": "float"
                  }
                }
              },
              "perTarget": {
                "properties": {
                  "life": {
                    "type": "integer"
                  },
                  "shield": {
                    "type": "integer"
                  }
                }
              },
              "projectileSpeed": {
                "type": "float"
              },
              "damage": {
                "properties": {
                  "all": {
                    "properties": {
                      "flat": {
                        "type": "integer"
                      },
                      "percent": {
                        "type": "float"
                      }
                    }
                  },
                  "melee": {
                    "type": "float"
                  },
                  "projectile": {
                    "type": "float"
                  },
                  "areaOfEffect": {
                    "type": "float"
                  },
                  "elemental": {
                    "properties": {
                      "fire": {
                        "properties": {
                          "flat": {
                            "properties": {
                              "min": {
                                "type": "integer"
                              },
                              "max": {
                                "type": "integer"
                              }
                            }
                          },
                          "percent": {
                            "type": "float"
                          }
                        }
                      },
                      "cold": {
                        "properties": {
                          "flat": {
                            "properties": {
                              "min": {
                                "type": "integer"
                              },
                              "max": {
                                "type": "integer"
                              }
                            }
                          },
                          "percent": {
                            "type": "float"
                          }
                        }
                      },
                      "lightning": {
                        "properties": {
                          "flat": {
                            "properties": {
                              "min": {
                                "type": "integer"
                              },
                              "max": {
                                "type": "integer"
                              }
                            }
                          },
                          "percent": {
                            "type": "float"
                          }
                        }
                      }
                    }
                  },
                  "physical": {
                    "type": "nested",
                    "properties": {
                      "min": {
                        "type": "integer"
                      },
                      "max": {
                        "type": "integer"
                      }
                    }
                  },
                  "chaos": {
                    "type": "nested",
                    "properties": {
                      "min": {
                        "type": "integer"
                      },
                      "max": {
                        "type": "integer"
                      }
                    }
                  }
                },
                "critical": {
                  "properties": {
                    "chance": {
                      "type": "float"
                    },
                    "multiplier": {
                      "type": "float"
                    },
                    "elemental": {
                      "properties": {
                        "chance": {
                          "type": "float"
                        },
                        "multiplier": {
                          "type": "float"
                        }
                      }
                    },
                    "spell": {
                      "properties": {
                        "chance": {
                          "type": "float"
                        },
                        "multiplier": {
                          "type": "float"
                        }
                      }
                    },
                    "melee": {
                      "properties": {
                        "chance": {
                          "type": "float"
                        },
                        "multiplier": {
                          "type": "float"
                        }
                      }
                    }
                  }
                },
                "spell": {
                  "properties": {
                    "damage": {
                      "type": "float"
                    },
                    "elemental": {
                      "properties": {
                        "fire": {
                          "type": "integer"
                        },
                        "cold": {
                          "type": "integer"
                        },
                        "lightning": {
                          "type": "integer"
                        }
                      }
                    }
                  }
                },
                "stun": {
                  "properties": {
                    "duration": {
                      "type": "float"
                    },
                    "thresholdReduction": {
                      "type": "float"
                    }
                  }
                },
                "attackSpeed": {
                  "type": "float"
                },
                "castSpeed": {
                  "type": "float"
                },
                "attacksPerSecond": {
                  "type": "float"
                },
                "meleeRange": {
                  "type": "integer"
                },
                "knockbackChance": {
                  "type": "float"
                }
              }
            }
          },
          "defense": {
            "type": "object",
            "properties": {
              "resist": {
                "properties": {
                  "elemental": {
                    "properties": {
                      "fire": {
                        "type": "integer"
                      },
                      "cold": {
                        "type": "integer"
                      },
                      "lightning": {
                        "type": "integer"
                      }
                    }
                  },
                  "physical": {
                    "type": "integer"
                  },
                  "chaos": {
                    "type": "integer"
                  }
                }
              },
              "armour": {
                "properties": {
                  "flat": {
                    "type": "integer"
                  },
                  "percent": {
                    "type": "float"
                  }
                }
              },
              "evasion": {
                "properties": {
                  "flat": {
                    "type": "integer"
                  },
                  "percent": {
                    "type": "float"
                  }
                }
              },
              "shield": {
                "properties": {
                  "recharge": {
                    "type": "float"
                  },
                  "flat": {
                    "type": "integer"
                  },
                  "percent": {
                    "type": "float"
                  }
                }
              },
              "blockChance": {
                "properties": {
                  "weapons": {
                    "type": "float"
                  },
                  "spells": {
                    "type": "float"
                  },
                  "whileDualWielding": {
                    "type": "float"
                  }
                }
              },
              "stunRecovery": {
                "type": "float"
              },
              "physicalDamageReduction": {
                "type": "float"
              },
              "onRecentBlock": {
                "type": "object",
                "properties": {
                  "armour": {
                    "type": "integer"
                  }
                }
              },
              "onTrap": {
                "shield": {
                  "type": "integer"
                },
                "frenzyCharge": {
                  "type": "integer"
                }
              },
              "onLowLife": {
                "properties": {
                  "prevent": {
                    "properties": {
                      "stun": {
                        "type": "boolean"
                      }
                    }
                  }
                }
              },
              "prevent": {
                "type": "object",
                "properties": {
                  "ailment": {
                    "properties": {
                      "chill": {
                        "type": "boolean"
                      },
                      "freeze": {
                        "type": "boolean"
                      },
                      "shock": {
                        "type": "boolean"
                      },
                      "ignite": {
                        "type": "boolean"
                      }
                    }
                  }
                }
              },
              "minion": {
                "properties": {
                  "blockChance": {
                    "type": "float"
                  },
                  "resist": {
                    "properties": {
                      "elemental": {
                        "properties": {
                          "all": {
                            "type": "float"
                          }
                        }
                      }
                    }
                  }
                }
              },
              "totem": {
                "properties": {
                  "resist": {
                    "properties": {
                      "elemental": {
                        "properties": {
                          "all": {
                            "type": "float"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "quality": {
            "type": "integer"
          },
          "width": {
            "type": "integer"
          },
          "height": {
            "type": "integer"
          },
          "note": {
            "type": "string",
            "index": "not_analyzed"
          },
          "level": {
            "type": "integer"
          },
          "metaLevel": {
            "type": "integer"
          },
          "identified": {
            "type": "boolean"
          },
          "corrupted": {
            "type": "boolean"
          },
          "locked": {
            "type": "boolean"
          },
          "icon": {
            "type": "text",
            "index": "not_analyzed"
          },
          "iconVersion": {
            "type": "text",
            "index": "not_analyzed"
          },
          "flavourText": {
            "type": "text"
          },
          "price": {
            "type": "text",
            "index": "not_analyzed"
          },
          "chaosPrice": {
            "type": "float"
          },
          "stack": {
            "properties": {
              "count": {
                "type": "integer"
              },
              "maximum": {
                "type": "integer"
              }
            }
          },
          "firstSeen": {
            "type": "date"
          },
          "lastSeen": {
            "type": "date"
          },
          "removed": {
            "type": "boolean"
          }
        }
      }
    }
  },
  "league": {
    "settings": {
      "index": {
        "number_of_shards": 1,
        "number_of_replicas": 0
      }
    },
    "mappings": {
      "league": {
        "properties": {
          "id": {
            "type": "keyword"
          },
          "url": {
            "type": "keyword"
          },
          "startAt": {
            "type": "date"
          },
          "endAt": {
            "type": "date"
          }
        }
      }
    }
  }
}
